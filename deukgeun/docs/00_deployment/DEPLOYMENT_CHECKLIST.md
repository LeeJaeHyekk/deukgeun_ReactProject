# 배포 전 체크리스트

## 📋 개요

이 문서는 프로젝트 배포 전 필수 확인 사항을 정리한 체크리스트입니다.

## ✅ 보안 체크리스트

### 환경 변수
- [ ] 모든 하드코딩된 비밀번호, API 키, 시크릿이 환경 변수로 이동됨
- [ ] `.env.production` 파일이 `.gitignore`에 포함됨
- [ ] 프로덕션 환경 변수가 올바르게 설정됨
- [ ] 민감한 정보가 코드나 문서에 노출되지 않음

### 인증 및 권한
- [ ] JWT 토큰 만료 시간이 적절히 설정됨
- [ ] Refresh Token이 `httpOnly` 쿠키로 설정됨
- [ ] 쿠키 `secure` 플래그가 프로덕션에서 활성화됨
- [ ] 쿠키 `sameSite` 설정이 CORS와 호환됨
- [ ] 토큰 갱신 로직이 Race Condition 없이 동작함
- [ ] 토큰 만료 시 자동 로그아웃이 정상 동작함

### CORS 설정
- [ ] 프로덕션 도메인이 CORS 허용 목록에 포함됨
- [ ] 개발 환경 localhost가 프로덕션에서 차단됨
- [ ] `credentials: true`가 설정되어 쿠키 전송이 가능함
- [ ] 허용되지 않은 Origin 요청이 차단됨

### reCAPTCHA
- [ ] reCAPTCHA Site Key와 Secret Key가 환경 변수로 설정됨
- [ ] 토큰 재사용 방지 로직이 동작함
- [ ] 토큰 만료 검증이 정상 동작함
- [ ] 도메인 검증이 정상 동작함
- [ ] 점수 기반 검증이 설정됨

## ✅ 기능 체크리스트

### 인증
- [ ] 로그인 기능이 정상 동작함
- [ ] 회원가입 기능이 정상 동작함
- [ ] 로그아웃 기능이 정상 동작함
- [ ] 자동 로그인 기능이 정상 동작함
- [ ] 토큰 갱신이 정상 동작함
- [ ] 비밀번호 재설정 기능이 정상 동작함

### 데이터베이스
- [ ] 데이터베이스 연결이 정상 동작함
- [ ] 초기 데이터 시딩이 완료됨
- [ ] 데이터베이스 스키마가 최신 상태임
- [ ] 외래 키 제약 조건이 올바르게 설정됨
- [ ] 인덱스가 적절히 설정됨

### API
- [ ] 모든 API 엔드포인트가 정상 동작함
- [ ] 에러 응답이 일관된 형식으로 반환됨
- [ ] 요청/응답 로깅이 적절히 설정됨
- [ ] API 타임아웃이 적절히 설정됨
- [ ] Rate Limiting이 설정됨 (필요한 경우)

### 프론트엔드
- [ ] 모든 페이지가 정상 렌더링됨
- [ ] 라우팅이 정상 동작함
- [ ] 상태 관리가 정상 동작함
- [ ] 에러 바운더리가 설정됨
- [ ] 로딩 상태가 적절히 표시됨
- [ ] 사용자 피드백(토스트, 알림)이 정상 동작함

## ✅ 성능 체크리스트

### 프론트엔드
- [ ] 번들 크기가 최적화됨
- [ ] 코드 스플리팅이 적용됨 (필요한 경우)
- [ ] 이미지 최적화가 적용됨
- [ ] 캐싱 전략이 적절히 설정됨
- [ ] 불필요한 리렌더링이 최소화됨

### 백엔드
- [ ] 데이터베이스 쿼리가 최적화됨
- [ ] N+1 쿼리 문제가 해결됨
- [ ] 연결 풀링이 적절히 설정됨
- [ ] 응답 시간이 적절함
- [ ] 메모리 사용량이 적절함

## ✅ 에러 처리 체크리스트

### 프론트엔드
- [ ] 네트워크 에러가 적절히 처리됨
- [ ] API 에러가 사용자에게 명확히 표시됨
- [ ] 예상치 못한 에러가 에러 바운더리에서 처리됨
- [ ] 에러 로깅이 적절히 설정됨
- [ ] 토큰 갱신 실패 시 적절히 처리됨

### 백엔드
- [ ] 모든 에러가 일관된 형식으로 반환됨
- [ ] 에러 로깅이 적절히 설정됨
- [ ] 스택 트레이스가 프로덕션에서 노출되지 않음
- [ ] 데이터베이스 에러가 적절히 처리됨
- [ ] 외부 API 에러가 적절히 처리됨

## ✅ 모니터링 체크리스트

### 헬스체크
- [ ] 백엔드 헬스체크 엔드포인트가 동작함
- [ ] 프론트엔드 헬스체크 모니터링이 설정됨
- [ ] 무한 루프 방지 로직이 적용됨
- [ ] 자동 복구 메커니즘이 적절히 설정됨

### 로깅
- [ ] 프로덕션 로깅 레벨이 적절히 설정됨
- [ ] 민감한 정보가 로그에 기록되지 않음
- [ ] 로그 로테이션이 설정됨 (필요한 경우)
- [ ] 에러 추적이 가능함

## ✅ 배포 체크리스트

### 빌드
- [ ] 프론트엔드 빌드가 성공적으로 완료됨
- [ ] 백엔드 빌드가 성공적으로 완료됨
- [ ] 빌드 산출물이 올바르게 생성됨
- [ ] 환경 변수가 빌드에 포함됨

### 서버 설정
- [ ] PM2 설정이 올바르게 구성됨
- [ ] Nginx 설정이 올바르게 구성됨
- [ ] SSL 인증서가 설정됨 (프로덕션)
- [ ] 도메인 설정이 올바르게 구성됨
- [ ] 포트 설정이 올바르게 구성됨

### 데이터베이스
- [ ] 데이터베이스 마이그레이션이 완료됨
- [ ] 초기 데이터 시딩이 완료됨
- [ ] 데이터베이스 백업이 설정됨 (필요한 경우)

## ✅ 테스트 체크리스트

### 단위 테스트
- [ ] 핵심 비즈니스 로직에 대한 단위 테스트가 작성됨
- [ ] 테스트 커버리지가 적절함

### 통합 테스트
- [ ] 주요 API 엔드포인트에 대한 통합 테스트가 작성됨
- [ ] 인증 플로우에 대한 통합 테스트가 작성됨

### 수동 테스트
- [ ] 주요 사용자 시나리오가 테스트됨
- [ ] 에러 케이스가 테스트됨
- [ ] 다양한 브라우저에서 테스트됨
- [ ] 모바일 환경에서 테스트됨 (필요한 경우)

## ✅ 문서 체크리스트

- [ ] README.md가 최신 상태임
- [ ] API 문서가 최신 상태임 (필요한 경우)
- [ ] 배포 가이드가 작성됨
- [ ] 환경 설정 가이드가 작성됨
- [ ] 트러블슈팅 가이드가 작성됨 (필요한 경우)

## ✅ 최종 확인

- [ ] 모든 체크리스트 항목이 완료됨
- [ ] 코드 리뷰가 완료됨
- [ ] 보안 검토가 완료됨
- [ ] 성능 테스트가 완료됨
- [ ] 배포 계획이 수립됨
- [ ] 롤백 계획이 수립됨

## 📝 배포 후 확인 사항

### 즉시 확인
- [ ] 서버가 정상적으로 시작됨
- [ ] 데이터베이스 연결이 정상 동작함
- [ ] API 엔드포인트가 정상 동작함
- [ ] 프론트엔드가 정상 렌더링됨
- [ ] 로그인/회원가입이 정상 동작함

### 24시간 내 확인
- [ ] 에러 로그에 이상이 없음
- [ ] 성능 메트릭이 정상 범위 내임
- [ ] 사용자 피드백이 긍정적임
- [ ] 주요 기능이 정상 동작함

## 🔗 관련 문서

- [배포 전 분석 보고서](./PRE_DEPLOYMENT_ANALYSIS.md)
- [환경 설정 가이드](../00_environment/ENVIRONMENT_CONFIGURATION.md)
- [보안 감사 보고서](../00_security/SECURITY_AUDIT_REPORT.md)

