[mysqld]
# ============================================================================
# MySQL 로깅 설정 - 최적화된 구성
# ============================================================================

# 기본 설정
port=3306
basedir="C:/Program Files/MySQL/MySQL Server 8.4"
datadir="C:/ProgramData/MySQL/MySQL Server 8.4/Data"

# ============================================================================
# 📝 에러 로그 설정
# ============================================================================
# 에러 로그 파일 경로 (기본값: JAECO.err)
log-error="C:/ProgramData/MySQL/MySQL Server 8.4/Data/mysql-error.log"

# 에러 로그 레벨 (1=ERROR, 2=WARNING, 3=INFORMATION)
log-error-verbosity=2

# ============================================================================
# 📊 일반 로그 설정 (성능상 비활성화 권장)
# ============================================================================
# 일반 로그 비활성화 (기본값)
general_log=0
# general_log_file="C:/ProgramData/MySQL/MySQL Server 8.4/Data/mysql-general.log"

# ============================================================================
# 🐌 슬로우 쿼리 로그 설정 (성능 모니터링용)
# ============================================================================
# 슬로우 쿼리 로그 활성화
slow_query_log=1
# 기본값: JAECO-slow.log → 권장: mysql-slow.log
slow_query_log_file="C:/ProgramData/MySQL/MySQL Server 8.4/Data/mysql-slow.log"

# 슬로우 쿼리 임계값 (초) - 2초 이상 걸리는 쿼리 기록
long_query_time=2

# 슬로우 쿼리 로그에 인덱스를 사용하지 않는 쿼리 포함
log_queries_not_using_indexes=1

# 슬로우 쿼리 로그에 관리자 문 포함
log_slow_admin_statements=1

# ============================================================================
# 🔄 바이너리 로그 설정 (백업/복제용)
# ============================================================================
# 바이너리 로그 활성화
# 기본값: JAECO-bin → 권장: mysql-bin
log-bin="C:/ProgramData/MySQL/MySQL Server 8.4/Data/mysql-bin"

# 바이너리 로그 형식 (ROW, STATEMENT, MIXED)
binlog_format=ROW

# 바이너리 로그 만료 시간 (일) - 7일
expire_logs_days=7

# 바이너리 로그 최대 크기 (MB)
max_binlog_size=100M

# ============================================================================
# 📈 성능 스키마 설정
# ============================================================================
# 성능 스키마 활성화 (기본값)
performance_schema=ON

# ============================================================================
# 🔍 추가 로깅 설정
# ============================================================================
# 연결 로그
log_warnings=2

# 테이블 접근 로그 (선택사항)
# log_tables=1

# ============================================================================
# 🗄️ 데이터베이스 설정
# ============================================================================
character-set-server=utf8mb4
collation-server=utf8mb4_unicode_ci
default_authentication_plugin=mysql_native_password
max_connections=200

# ============================================================================
# ⚙️ 고급 옵션 설정
# ============================================================================
# 서버 ID (복제용) - 기본값: 1
server-id=1

# 테이블명 대소문자 처리 - 기본값: Lower Case
lower_case_table_names=1

# ============================================================================
# 🔐 보안 설정
# ============================================================================
local_infile=0
skip_show_database

[mysql]
default-character-set=utf8mb4

[client]
default-character-set=utf8mb4
port=3306
