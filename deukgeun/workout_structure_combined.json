{
  "page": {
    "name": "WorkoutPage",
    "description": "종합 운동 관리 페이지 - 운동 계획, 진행 상황, 목표, 실시간 세션 트래킹, 분석을 탭별로 확인",
    "mainFile": "WorkoutPage.tsx",
    "layout": {
      "type": "tabbed-layout",
      "tabPosition": "top",
      "responsive": {
        "mobile": "scrollable",
        "tablet": "fixed",
        "desktop": "fixed"
      }
    },
    "tabs": [
      {
        "id": "overview",
        "label": "개요",
        "icon": "📊",
        "description": "현재 진행중인 운동 계획과 주요 통계를 카드 형태로 표시",
        "component": "OverviewTab",
        "type": "card-list",
        "layout": {
          "maxColumns": 3,
          "cardSpacing": "16px",
          "wrap": true,
          "responsive": {
            "mobile": 1,
            "tablet": 2,
            "desktop": 3
          }
        },
        "dataSources": ["WorkoutPlanDTO", "WorkoutStatsDTO"],
        "props": [
          "dashboardData",
          "isLoading",
          "onPlanClick",
          "onSessionClick",
          "onGoalClick"
        ],
        "cards": {
          "type": "WorkoutPlanCard",
          "fields": [
            "계획 이름",
            "설명",
            "난이도",
            "총 소요 시간",
            "운동 목록 요약",
            "진행률",
            "streak",
            "badge"
          ],
          "actions": ["상세 보기", "수정", "삭제"],
          "components": [
            {
              "type": "ProgressBar",
              "props": ["currentValue", "targetValue", "unit"]
            },
            {
              "type": "Badge",
              "props": ["level", "milestone"]
            }
          ]
        }
      },
      {
        "id": "goals",
        "label": "목표",
        "icon": "🎯",
        "description": "운동 목표와 달성 상태를 보여주며, 목표 추가/수정 가능",
        "component": "GoalsTab",
        "type": "card-list",
        "layout": {
          "maxColumns": 2,
          "cardSpacing": "16px",
          "wrap": true,
          "responsive": {
            "mobile": 1,
            "tablet": 2,
            "desktop": 2
          }
        },
        "dataSources": ["WorkoutGoalDTO"],
        "props": [
          "goals",
          "isLoading",
          "onCreateGoal",
          "onEditGoal",
          "onDeleteGoal"
        ],
        "cards": {
          "type": "GoalCard",
          "fields": [
            "title",
            "description",
            "progress",
            "targetDate",
            "isCompleted"
          ],
          "actions": ["EditGoal", "DeleteGoal"],
          "components": [
            {
              "type": "ProgressBar",
              "props": ["currentValue", "targetValue", "unit"]
            }
          ]
        },
        "components": [
          {
            "type": "Button",
            "props": ["AddGoal"],
            "styleHint": "primary"
          }
        ]
      },
      {
        "id": "plans",
        "label": "계획",
        "icon": "📋",
        "description": "새 계획 생성 및 운동 추가 기능 제공",
        "component": "PlansTab",
        "type": "section",
        "props": [
          "plans",
          "isLoading",
          "onCreatePlan",
          "onEditPlan",
          "onStartSession",
          "onDeletePlan"
        ],
        "subSections": [
          {
            "id": "new-plan",
            "name": "새 계획 만들기",
            "type": "button-modal",
            "button": {
              "label": "새 계획 생성",
              "action": "openModal",
              "modalId": "createPlanModal"
            }
          },
          {
            "id": "plan-list",
            "name": "운동 계획 목록",
            "type": "list",
            "maxItems": 3,
            "itemType": "WorkoutPlanCard"
          },
          {
            "id": "add-exercise",
            "name": "운동 추가",
            "type": "button",
            "button": {
              "label": "운동 추가",
              "action": "openExerciseSelector"
            }
          }
        ]
      },
      {
        "id": "sessions",
        "label": "세션",
        "icon": "⏱️",
        "description": "사용자가 직접 추가할 수 없으며 이전에 등록된 운동 세션만 표시",
        "component": "SessionsTab",
        "type": "card-list",
        "layout": {
          "maxColumns": 3,
          "cardSpacing": "16px",
          "wrap": true,
          "responsive": {
            "mobile": 1,
            "tablet": 2,
            "desktop": 3
          }
        },
        "dataSources": ["WorkoutSessionDTO", "ExerciseSetDTO"],
        "props": [
          "sessions",
          "isLoading",
          "onEditSession",
          "onViewSession",
          "onDeleteSession"
        ],
        "cards": {
          "type": "WorkoutSessionCard",
          "fields": [
            "계획 타이틀",
            "계획 내용",
            "운동 세트 요약 (예: 운동명 - 0 0 0)",
            "진행률 표시 (세트 완료 검은색)"
          ],
          "actions": [
            {
              "label": "시작/일시정지",
              "type": "toggleTimer",
              "behavior": {
                "start": "타이머 작동 및 진행바 표시",
                "pause": "타이머 일시정지 및 버튼 변경"
              }
            },
            {
              "label": "삭제",
              "action": "deleteSessionCard"
            }
          ],
          "progress": {
            "type": "sets",
            "display": "0 → 완료시 검은색",
            "maxValue": "계획된 세트 수",
            "completedValueColor": "black",
            "visualIndicator": "진행바 표시"
          },
          "completion": {
            "type": "button",
            "label": "오운완",
            "trigger": ["카드 삭제", "내용 및 히스토리 DB 저장"],
            "condition": "모든 세트 완료 시 활성화",
            "position": "카드 중앙"
          }
        }
      },
      {
        "id": "workoutProgress",
        "label": "진행상황",
        "icon": "📈",
        "description": "DB에 저장된 운동 세션 정보를 기반으로 월 단위와 년 단위 진행 상황을 시각화",
        "component": "ProgressTab",
        "type": "graph-section",
        "visibility": "internal-only",
        "props": ["sessions", "onViewSession", "isLoading"],
        "dataSource": {
          "type": "database",
          "table": "workout_sessions",
          "fields": [
            "completedSets",
            "totalSets",
            "durationMinutes",
            "planId",
            "exerciseId",
            "date"
          ]
        },
        "sections": [
          {
            "id": "statsSection",
            "name": "전체 통계",
            "component": "ProgressStats",
            "description": "전체 운동 진행 상황 요약"
          },
          {
            "id": "chartTypeSection",
            "name": "차트 유형 선택",
            "component": "ChartTypeSelector",
            "description": "월간/연간 보기 토글"
          },
          {
            "id": "chartsSection",
            "name": "진행 차트",
            "component": "ProgressCharts",
            "description": "운동 진행 상황 차트"
          },
          {
            "id": "recentActivitySection",
            "name": "최근 활동",
            "component": "RecentActivity",
            "description": "가장 최근 운동 세션"
          }
        ],
        "graphs": [
          {
            "id": "monthlyGraph",
            "title": "월별 진행 현황",
            "type": "bar",
            "metrics": ["completedSets", "totalSets", "durationMinutes"],
            "aggregation": "month",
            "tooltip": true,
            "hoverDetails": true
          },
          {
            "id": "yearlyGraph",
            "title": "년별 진행 현황",
            "type": "line",
            "metrics": ["completedSets", "totalSets", "durationMinutes"],
            "aggregation": "year",
            "tooltip": true,
            "hoverDetails": true
          }
        ],
        "layout": {
          "columns": 2,
          "responsive": true,
          "spacing": "16px"
        },
        "features": {
          "filter": ["planId", "exerciseId", "dateRange"],
          "caching": {
            "enabled": true,
            "durationMinutes": 60
          },
          "errorFallback": {
            "message": "데이터를 불러올 수 없습니다.",
            "showPlaceholder": true
          }
        }
      }
    ],
    "modals": [
      {
        "id": "createPlanModal",
        "name": "새 운동 계획 모달",
        "description": "새 계획 생성 및 운동 추가",
        "component": "WorkoutPlanModal",
        "props": ["isOpen", "onClose", "onCreatePlan", "mode", "plan"],
        "fields": [
          {
            "name": "planName",
            "type": "text",
            "label": "계획 이름",
            "required": true
          },
          {
            "name": "planDescription",
            "type": "textarea",
            "label": "설명"
          },
          {
            "name": "difficulty",
            "type": "select",
            "label": "난이도",
            "options": ["쉬움", "보통", "어려움"]
          },
          {
            "name": "duration",
            "type": "number",
            "label": "총 소요 시간 (분)",
            "min": 1
          },
          {
            "name": "exerciseList",
            "type": "list",
            "label": "운동 목록",
            "itemType": "ExerciseItem",
            "actions": ["수정", "삭제"]
          }
        ],
        "buttons": [
          {
            "label": "저장",
            "action": "savePlan"
          },
          {
            "label": "취소",
            "action": "closeModal"
          }
        ]
      },
      {
        "id": "createGoalModal",
        "name": "목표 생성 모달",
        "description": "새 운동 목표 생성",
        "component": "WorkoutGoalModal",
        "props": ["isOpen", "onClose", "onCreateGoal", "mode", "goal"],
        "fields": [
          {
            "name": "title",
            "type": "text",
            "label": "목표 제목",
            "required": true
          },
          {
            "name": "description",
            "type": "textarea",
            "label": "목표 설명"
          },
          {
            "name": "type",
            "type": "select",
            "label": "목표 타입",
            "options": ["weight", "reps", "duration", "frequency", "streak"]
          },
          {
            "name": "targetValue",
            "type": "number",
            "label": "목표 값",
            "required": true
          },
          {
            "name": "unit",
            "type": "text",
            "label": "단위",
            "required": true
          },
          {
            "name": "deadline",
            "type": "date",
            "label": "목표 기한"
          }
        ],
        "buttons": [
          {
            "label": "생성",
            "action": "createGoal"
          },
          {
            "label": "취소",
            "action": "closeModal"
          }
        ]
      },
      {
        "id": "createSessionModal",
        "name": "세션 생성 모달",
        "description": "새 운동 세션 생성",
        "component": "WorkoutSessionModal",
        "props": ["isOpen", "onClose", "onCreateSession", "mode", "session"],
        "fields": [
          {
            "name": "sessionName",
            "type": "text",
            "label": "세션 이름",
            "required": true
          },
          {
            "name": "planId",
            "type": "select",
            "label": "운동 계획",
            "dataSource": "plans"
          },
          {
            "name": "startTime",
            "type": "datetime",
            "label": "시작 시간"
          },
          {
            "name": "notes",
            "type": "textarea",
            "label": "메모"
          }
        ],
        "buttons": [
          {
            "label": "생성",
            "action": "createSession"
          },
          {
            "label": "취소",
            "action": "closeModal"
          }
        ]
      }
    ],
    "hooks": [
      {
        "name": "useWorkoutStore",
        "description": "Zustand 기반 운동 데이터 관리 훅",
        "returns": [
          "plans",
          "sessions",
          "goals",
          "dashboardData",
          "loading",
          "activeTab",
          "modals",
          "tabStates",
          "sharedState"
        ]
      },
      {
        "name": "useWorkoutData",
        "description": "운동 데이터 관리 훅",
        "returns": [
          "workoutPlans",
          "workoutGoals",
          "workoutSessions",
          "workoutStats",
          "isLoading",
          "error"
        ]
      },
      {
        "name": "useWorkoutActions",
        "description": "운동 액션 관리 훅",
        "returns": [
          "createWorkoutPlan",
          "createWorkoutGoal",
          "updateWorkoutGoal",
          "deleteWorkoutGoal",
          "createWorkoutSession",
          "updateWorkoutSession",
          "deleteWorkoutSession"
        ]
      },
      {
        "name": "useWorkoutPlans",
        "description": "운동 계획 관리 훅",
        "returns": [
          "plans",
          "loading",
          "error",
          "fetchPlans",
          "createPlan",
          "updatePlan",
          "deletePlan"
        ]
      },
      {
        "name": "useWorkoutSessions",
        "description": "운동 세션 관리 훅",
        "returns": [
          "sessions",
          "loading",
          "error",
          "fetchSessions",
          "createSession",
          "updateSession",
          "deleteSession",
          "startSession",
          "pauseSession",
          "completeSession"
        ]
      },
      {
        "name": "useWorkoutGoals",
        "description": "운동 목표 관리 훅",
        "returns": [
          "goals",
          "loading",
          "error",
          "fetchGoals",
          "createGoal",
          "updateGoal",
          "deleteGoal"
        ]
      },
      {
        "name": "useProgressData",
        "description": "진행상황 데이터 관리 훅",
        "returns": [
          "chartData",
          "stats",
          "selectedTimeRange",
          "setSelectedTimeRange"
        ]
      }
    ],
    "types": [
      {
        "name": "WorkoutPlanDTO",
        "description": "운동 계획 데이터 전송 객체"
      },
      {
        "name": "WorkoutGoalDTO",
        "description": "운동 목표 데이터 전송 객체"
      },
      {
        "name": "WorkoutSessionDTO",
        "description": "운동 세션 데이터 전송 객체"
      },
      {
        "name": "ExerciseSetDTO",
        "description": "운동 세트 데이터 전송 객체"
      },
      {
        "name": "WorkoutStatsDTO",
        "description": "운동 통계 데이터 전송 객체"
      },
      {
        "name": "MachineDTO",
        "description": "기구 데이터 전송 객체"
      },
      {
        "name": "GymDTO",
        "description": "헬스장 데이터 전송 객체"
      },
      {
        "name": "ExerciseItem",
        "description": "운동 아이템 데이터 객체"
      },
      {
        "name": "DailyStats",
        "description": "일일 통계 데이터 객체"
      },
      {
        "name": "WeeklyStats",
        "description": "주간 통계 데이터 객체"
      },
      {
        "name": "MonthlyStats",
        "description": "월간 통계 데이터 객체"
      },
      {
        "name": "TabType",
        "description": "탭 타입 정의"
      }
    ],
    "components": {
      "charts": [
        {
          "name": "ProgressChart",
          "file": "components/charts/ProgressChart.tsx",
          "description": "진행률 차트 컴포넌트"
        },
        {
          "name": "LineChart",
          "file": "components/charts/LineChart.tsx",
          "description": "라인 차트 컴포넌트"
        },
        {
          "name": "BarChart",
          "file": "components/charts/BarChart.tsx",
          "description": "막대 차트 컴포넌트"
        }
      ],
      "forms": [
        {
          "name": "SetInput",
          "file": "components/SetInput.tsx",
          "description": "세트 입력 폼 컴포넌트"
        },
        {
          "name": "MachineSelector",
          "file": "components/MachineSelector.tsx",
          "description": "기구 선택 컴포넌트"
        },
        {
          "name": "NotesInput",
          "file": "components/NotesInput.tsx",
          "description": "메모 입력 컴포넌트"
        }
      ],
      "cards": [
        {
          "name": "WorkoutPlanCard",
          "file": "components/cards/WorkoutPlanCard.tsx",
          "description": "운동 계획 카드 컴포넌트"
        },
        {
          "name": "WorkoutSessionCard",
          "file": "components/cards/WorkoutSessionCard.tsx",
          "description": "운동 세션 카드 컴포넌트"
        },
        {
          "name": "GoalCard",
          "file": "components/cards/GoalCard.tsx",
          "description": "목표 카드 컴포넌트"
        }
      ],
      "navigation": [
        {
          "name": "TabNavigation",
          "file": "components/navigation/TabNavigation.tsx",
          "description": "탭 네비게이션 컴포넌트"
        },
        {
          "name": "TabContent",
          "file": "components/navigation/TabContent.tsx",
          "description": "탭 콘텐츠 컴포넌트"
        }
      ]
    },
    "rules": {
      "dataValidation": {
        "useExistingRules": true
      },
      "relationships": {
        "cascade": [
          "WorkoutSession.exerciseSets",
          "WorkoutPlan.workoutSessions",
          "WorkoutPlan.workoutGoals"
        ],
        "lazy": ["WorkoutSession.exerciseSets", "WorkoutPlan.workoutSessions"],
        "eager": ["ExerciseSet.machine", "WorkoutSession.user"]
      },
      "serialization": {
        "date": "ISO8601",
        "json": "stringify"
      }
    },
    "metadata": {
      "lastUpdated": "2025-01-27T00:00:00Z",
      "pageType": "TabbedDashboard",
      "targetPlatform": ["Web", "Mobile"],
      "version": "2.2",
      "description": "탭 기반 통합 운동 관리 페이지 - 계획, 세션, 목표, 진행상황 기능을 탭별로 분리",
      "implementationStatus": "completed",
      "components": {
        "total": 5,
        "tabs": 5,
        "modals": 3,
        "hooks": 7,
        "types": 12,
        "charts": 3,
        "forms": 3,
        "cards": 3,
        "navigation": 2
      }
    }
  }
}
