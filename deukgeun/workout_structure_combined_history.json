{
  "metadata": {
    "version": "1.0.0",
    "createdAt": "2024-12-23T00:00:00.000Z",
    "lastUpdated": "2024-12-23T00:00:00.000Z",
    "description": "워크아웃 페이지 히스토리 데이터 저장소 - 사용자별 운동 기록, 통계, 목표 달성 이력 등을 누적 저장",
    "schema": {
      "workoutSessions": "사용자별 운동 세션 히스토리",
      "workoutStats": "사용자별 운동 통계 누적 데이터",
      "goalProgress": "목표 달성 진행도 히스토리",
      "expHistory": "경험치 획득 히스토리",
      "personalBests": "개인 최고 기록",
      "achievements": "업적 달성 히스토리",
      "analytics": "분석 데이터 히스토리"
    }
  },
  "data": {
    "workoutSessions": {
      "description": "사용자별 운동 세션 히스토리 - 세션 완료 시마다 추가",
      "structure": {
        "userId": "사용자 ID",
        "sessions": [
          {
            "id": "세션 고유 ID",
            "planId": "운동 계획 ID (선택사항)",
            "gymId": "헬스장 ID (선택사항)",
            "name": "세션 이름",
            "startTime": "시작 시간",
            "endTime": "종료 시간",
            "totalDurationMinutes": "총 소요 시간 (분)",
            "moodRating": "기분 점수 (1-10)",
            "energyLevel": "에너지 레벨 (1-10)",
            "notes": "메모",
            "status": "상태 (completed, cancelled, paused)",
            "exerciseSets": [
              {
                "machineId": "기구 ID",
                "exerciseName": "운동 이름",
                "setNumber": "세트 번호",
                "repsCompleted": "완료한 횟수",
                "weightKg": "무게 (kg)",
                "durationSeconds": "지속 시간 (초)",
                "distanceMeters": "거리 (미터)",
                "rpeRating": "RPE 점수 (1-10)",
                "notes": "세트별 메모",
                "isPersonalBest": "개인 최고 기록 여부"
              }
            ],
            "caloriesBurned": "소모 칼로리",
            "totalWeight": "총 무게",
            "totalSets": "총 세트 수",
            "totalReps": "총 횟수",
            "createdAt": "생성 시간",
            "updatedAt": "수정 시간"
          }
        ]
      },
      "example": {
        "userId": 1,
        "sessions": [
          {
            "id": 1,
            "planId": 1,
            "gymId": 1,
            "name": "상체 운동",
            "startTime": "2024-12-23T10:00:00.000Z",
            "endTime": "2024-12-23T11:30:00.000Z",
            "totalDurationMinutes": 90,
            "moodRating": 8,
            "energyLevel": 7,
            "notes": "오늘 컨디션이 좋았다",
            "status": "completed",
            "exerciseSets": [
              {
                "machineId": 1,
                "exerciseName": "벤치프레스",
                "setNumber": 1,
                "repsCompleted": 12,
                "weightKg": 60,
                "rpeRating": 7,
                "notes": "첫 세트는 가벼운 무게로",
                "isPersonalBest": false
              }
            ],
            "caloriesBurned": 450,
            "totalWeight": 720,
            "totalSets": 12,
            "totalReps": 144,
            "createdAt": "2024-12-23T10:00:00.000Z",
            "updatedAt": "2024-12-23T11:30:00.000Z"
          }
        ]
      }
    },
    "workoutStats": {
      "description": "사용자별 운동 통계 누적 데이터 - 매일 업데이트",
      "structure": {
        "userId": "사용자 ID",
        "dailyStats": [
          {
            "date": "날짜 (YYYY-MM-DD)",
            "totalSessions": "해당 날짜 총 세션 수",
            "totalDurationMinutes": "총 운동 시간 (분)",
            "totalSets": "총 세트 수",
            "totalReps": "총 횟수",
            "totalWeightKg": "총 무게 (kg)",
            "totalDistanceMeters": "총 거리 (미터)",
            "averageMood": "평균 기분 점수",
            "averageEnergy": "평균 에너지 레벨",
            "averageRpe": "평균 RPE 점수",
            "caloriesBurned": "소모 칼로리",
            "machinesUsed": ["사용한 기구 목록"],
            "exercisesCompleted": ["완료한 운동 목록"]
          }
        ],
        "weeklyStats": [
          {
            "weekStart": "주 시작일 (YYYY-MM-DD)",
            "weekEnd": "주 종료일 (YYYY-MM-DD)",
            "totalSessions": "주간 총 세션 수",
            "totalDurationMinutes": "주간 총 운동 시간",
            "averageSessionsPerDay": "일평균 세션 수",
            "averageDurationPerSession": "세션당 평균 시간",
            "mostUsedMachines": ["가장 많이 사용한 기구"],
            "mostCompletedExercises": ["가장 많이 한 운동"],
            "streakDays": "연속 운동 일수"
          }
        ],
        "monthlyStats": [
          {
            "month": "월 (YYYY-MM)",
            "totalSessions": "월간 총 세션 수",
            "totalDurationMinutes": "월간 총 운동 시간",
            "totalCaloriesBurned": "월간 총 소모 칼로리",
            "averageSessionsPerWeek": "주평균 세션 수",
            "personalBests": ["월간 개인 최고 기록"],
            "goalsAchieved": ["달성한 목표 목록"],
            "improvementRate": "전월 대비 개선률 (%)"
          }
        ],
        "overallStats": {
          "totalSessions": "전체 총 세션 수",
          "totalDurationMinutes": "전체 총 운동 시간",
          "totalCaloriesBurned": "전체 총 소모 칼로리",
          "longestStreak": "최장 연속 운동 일수",
          "currentStreak": "현재 연속 운동 일수",
          "favoriteMachines": ["선호하는 기구"],
          "favoriteExercises": ["선호하는 운동"],
          "startDate": "첫 운동 시작일",
          "lastWorkoutDate": "마지막 운동일"
        }
      }
    },
    "goalProgress": {
      "description": "목표 달성 진행도 히스토리 - 목표 생성/수정/달성 시마다 기록",
      "structure": {
        "userId": "사용자 ID",
        "goals": [
          {
            "id": "목표 ID",
            "title": "목표 제목",
            "description": "목표 설명",
            "type": "목표 타입 (weight, reps, duration, frequency, streak)",
            "targetValue": "목표 값",
            "currentValue": "현재 값",
            "unit": "단위",
            "deadline": "목표 기한",
            "isCompleted": "달성 여부",
            "completedAt": "달성 시간",
            "planId": "관련 운동 계획 ID",
            "exerciseId": "관련 운동 ID",
            "progressHistory": [
              {
                "date": "기록 날짜",
                "value": "해당 날짜의 값",
                "percentage": "달성률 (%)",
                "notes": "진행 상황 메모"
              }
            ],
            "createdAt": "생성 시간",
            "updatedAt": "수정 시간"
          }
        ]
      }
    },
    "expHistory": {
      "description": "경험치 획득 히스토리 - 경험치 획득 시마다 기록",
      "structure": {
        "userId": "사용자 ID",
        "expRecords": [
          {
            "id": "기록 ID",
            "actionType": "행동 타입 (workout_complete, workout_streak, goal_achieved 등)",
            "expGained": "획득한 경험치",
            "source": "경험치 획득 소스",
            "metadata": "추가 메타데이터",
            "levelBefore": "획득 전 레벨",
            "levelAfter": "획득 후 레벨",
            "isLevelUp": "레벨업 여부",
            "createdAt": "획득 시간"
          }
        ],
        "levelHistory": [
          {
            "level": "레벨",
            "expRequired": "해당 레벨에 필요한 경험치",
            "achievedAt": "달성 시간",
            "totalExpAtLevel": "레벨 달성 시 총 경험치"
          }
        ]
      }
    },
    "personalBests": {
      "description": "개인 최고 기록 히스토리 - 새로운 최고 기록 달성 시마다 기록",
      "structure": {
        "userId": "사용자 ID",
        "records": [
          {
            "id": "기록 ID",
            "machineId": "기구 ID",
            "exerciseName": "운동 이름",
            "recordType": "기록 타입 (max_weight, max_reps, max_duration, max_distance)",
            "value": "기록 값",
            "unit": "단위",
            "previousRecord": "이전 기록",
            "improvement": "개선량",
            "improvementPercentage": "개선률 (%)",
            "sessionId": "달성한 세션 ID",
            "notes": "메모",
            "achievedAt": "달성 시간"
          }
        ],
        "currentBests": {
          "maxWeight": {
            "exerciseName": "운동 이름",
            "value": "최고 무게",
            "unit": "kg",
            "achievedAt": "달성 시간"
          },
          "maxReps": {
            "exerciseName": "운동 이름",
            "value": "최고 횟수",
            "unit": "reps",
            "achievedAt": "달성 시간"
          },
          "maxDuration": {
            "exerciseName": "운동 이름",
            "value": "최고 지속 시간",
            "unit": "minutes",
            "achievedAt": "달성 시간"
          },
          "longestStreak": {
            "value": "최장 연속 운동 일수",
            "startDate": "시작일",
            "endDate": "종료일"
          }
        }
      }
    },
    "achievements": {
      "description": "업적 달성 히스토리 - 업적 달성 시마다 기록",
      "structure": {
        "userId": "사용자 ID",
        "achievements": [
          {
            "id": "업적 ID",
            "name": "업적 이름",
            "description": "업적 설명",
            "category": "업적 카테고리 (streak, weight, reps, duration, special)",
            "icon": "업적 아이콘",
            "criteria": "달성 조건",
            "reward": "보상 (경험치 등)",
            "isUnlocked": "해금 여부",
            "unlockedAt": "해금 시간",
            "progress": "진행도 (해금 전까지 표시)"
          }
        ],
        "unlockedAchievements": ["해금된 업적 ID 목록"],
        "availableAchievements": ["달성 가능한 업적 ID 목록"]
      }
    },
    "analytics": {
      "description": "분석 데이터 히스토리 - 주기적으로 업데이트되는 분석 데이터",
      "structure": {
        "userId": "사용자 ID",
        "trends": {
          "weeklyProgress": [
            {
              "week": "주차",
              "sessions": "세션 수",
              "duration": "운동 시간",
              "calories": "소모 칼로리",
              "strength": "근력 지수",
              "endurance": "지구력 지수"
            }
          ],
          "monthlyProgress": [
            {
              "month": "월",
              "sessions": "세션 수",
              "duration": "운동 시간",
              "calories": "소모 칼로리",
              "improvement": "개선률"
            }
          ]
        },
        "patterns": {
          "preferredTimes": ["선호하는 운동 시간대"],
          "preferredDays": ["선호하는 운동 요일"],
          "preferredDuration": "선호하는 운동 시간",
          "preferredMachines": ["선호하는 기구"],
          "preferredExercises": ["선호하는 운동"]
        },
        "insights": {
          "strength": "근력 분석",
          "endurance": "지구력 분석",
          "consistency": "일관성 분석",
          "improvement": "개선도 분석",
          "recommendations": "추천 사항"
        }
      }
    }
  },
  "workoutPageRebuild": {
    "project": "Workout Page Complete Rebuild",
    "startDate": "2025-01-27T00:00:00.000Z",
    "description": "workout_structure_combined.json을 기준으로 기존 workout 페이지를 완전히 재구성",
    "phases": [
      {
        "phase": 1,
        "name": "기본 구조 및 컴포넌트 스캐폴딩",
        "status": "completed",
        "completedAt": "2025-01-27T00:00:00.000Z",
        "components": [
          "WorkoutPage.tsx 기본 구조",
          "섹션 컴포넌트들 생성",
          "공통 UI 컴포넌트 생성",
          "카드 컴포넌트들 생성",
          "모달 컴포넌트들 생성",
          "폼 컴포넌트들 생성",
          "타이머 컴포넌트 생성"
        ],
        "files": [
          "WorkoutPage.tsx (기본 구조)",
          "WorkoutOverviewSection.tsx",
          "WorkoutGoalsSection.tsx",
          "WorkoutPlansSection.tsx",
          "WorkoutSessionsSection.tsx",
          "SessionTrackingSection.tsx",
          "WorkoutRemindersSection.tsx",
          "WorkoutProgressSection.tsx",
          "WorkoutAnalyticsSection.tsx",
          "Button.tsx",
          "ProgressBar.tsx",
          "Badge.tsx",
          "WorkoutPlanCard.tsx",
          "GoalCard.tsx",
          "WorkoutSessionCard.tsx",
          "ReminderCard.tsx",
          "CreatePlanModal.tsx",
          "AddExerciseModal.tsx",
          "CreateGoalModal.tsx",
          "FormInput.tsx",
          "FormSelect.tsx",
          "FormTextarea.tsx",
          "SessionTimer.tsx",
          "useWorkoutData.ts",
          "useWorkoutActions.ts",
          "types/index.ts",
          "WorkoutPage.css (기본 스타일)"
        ],
        "features": [
          "기본 페이지 구조",
          "섹션별 컴포넌트 분리",
          "공통 UI 요소",
          "모달 시스템",
          "폼 컴포넌트",
          "타이머 기능",
          "데이터 훅",
          "액션 훅",
          "타입 정의"
        ]
      },
      {
        "phase": 2,
        "name": "상세 스타일링 및 데이터 통합",
        "status": "completed",
        "completedAt": "2025-01-27T00:00:00.000Z",
        "components": [
          "카드 컴포넌트 스타일링 완성",
          "모달 스타일링 완성",
          "폼 스타일링 완성",
          "세션 트래킹 스타일링 완성",
          "데이터 통합 및 확장"
        ],
        "files": [
          "WorkoutPage.css (상세 스타일 추가)",
          "useWorkoutData.ts (데이터 확장)",
          "WorkoutPlanCard.tsx (스타일 적용)"
        ],
        "features": [
          "모던한 카드 디자인",
          "반응형 모달",
          "폼 요소 스타일링",
          "세션 트래킹 UI",
          "확장된 샘플 데이터",
          "반응형 디자인"
        ]
      },
      {
        "phase": 3,
        "name": "목표 및 계획 관리 기능",
        "status": "completed",
        "completedAt": "2025-01-27T00:00:00.000Z",
        "components": [
          "CreateGoalModal 완성",
          "CreatePlanModal 개선",
          "목표 생성 기능 연결",
          "계획 관리 기능 연결"
        ],
        "files": [
          "CreateGoalModal.tsx (완전한 목표 생성 모달)",
          "CreatePlanModal.tsx (운동 추가/제거/순서 변경 기능)",
          "WorkoutPage.tsx (목표 생성 핸들러 연결)",
          "useWorkoutActions.ts (목표 액션 추가)",
          "WorkoutPage.css (목표/계획 모달 스타일)"
        ],
        "features": [
          "동적 단위 선택",
          "목표 타입별 설정",
          "운동 목록 관리",
          "순서 변경 기능",
          "실시간 미리보기",
          "폼 검증"
        ]
      },
      {
        "phase": 4,
        "name": "운동 세션 및 타이머 개선",
        "status": "completed",
        "completedAt": "2025-01-27T00:00:00.000Z",
        "components": [
          "WorkoutSessionCard 완성",
          "SessionTimer 완성",
          "세션 메트릭 표시",
          "타이머 기능 완성"
        ],
        "files": [
          "WorkoutSessionCard.tsx (상세 메트릭, 운동 목록, RPE, 개인 기록)",
          "SessionTimer.tsx (일시정지/재개, 랩 기록, 상세 시간 추적)",
          "WorkoutPage.css (세션 카드 및 타이머 스타일)"
        ],
        "features": [
          "상세 세션 메트릭",
          "RPE 및 개인 기록 배지",
          "운동 목록 토글",
          "완전한 타이머 기능",
          "랩 기록",
          "상세 시간 추적"
        ]
      },
      {
        "phase": 5,
        "name": "실시간 세션 트래킹",
        "status": "completed",
        "completedAt": "2025-01-27T00:00:00.000Z",
        "components": [
          "SetInput 완성",
          "MachineSelector 완성",
          "NotesInput 완성",
          "실시간 입력 기능"
        ],
        "files": [
          "SetInput.tsx (빠른 입력, RPE 스케일, 세트 타이머)",
          "MachineSelector.tsx (검색/필터, 카테고리별 분류)",
          "NotesInput.tsx (자동 저장, 문자 수 카운트)",
          "WorkoutPage.css (실시간 트래킹 스타일)"
        ],
        "features": [
          "빠른 세트 입력",
          "RPE 스케일",
          "세트별 타이머",
          "기계 검색 및 필터",
          "자동 저장",
          "실시간 문자 수"
        ]
      },
      {
        "phase": 6,
        "name": "리마인더 섹션",
        "status": "completed",
        "completedAt": "2025-01-27T00:00:00.000Z",
        "components": [
          "ReminderCard 완성",
          "SwitchToggle 완성",
          "CreateReminderModal 완성",
          "알림 관리 기능 완성"
        ],
        "files": [
          "SwitchToggle.tsx (새로 생성)",
          "ReminderCard.tsx (완전한 리마인더 카드 기능)",
          "CreateReminderModal.tsx (새로 생성)",
          "WorkoutRemindersSection.tsx (리마인더 관리 연결)",
          "useWorkoutActions.ts (리마인더 액션 추가)",
          "useWorkoutData.ts (리마인더 샘플 데이터 업데이트)",
          "types/index.ts (WorkoutReminderDTO 타입 업데이트)",
          "WorkoutPage.css (리마인더 스타일 추가)"
        ],
        "features": [
          "실시간 알림 토글",
          "다음 알림 시간 계산",
          "알림 상태 표시",
          "상세 정보 확장/축소",
          "알림 통계 표시",
          "빠른 시간/요일 프리셋",
          "알림 타입 선택",
          "사전 알림 및 다시 알림 설정"
        ]
      },
      {
        "phase": 7,
        "name": "분석 및 그래프 섹션",
        "status": "completed",
        "completedAt": "2025-01-27T00:00:00.000Z",
        "components": [
          "LineChart 완성",
          "BarChart 완성",
          "PieChart 완성",
          "StreakDisplay 완성",
          "GoalComparison 완성",
          "WorkoutAnalyticsSection 완성"
        ],
        "files": [
          "LineChart.tsx (새로 생성)",
          "BarChart.tsx (새로 생성)",
          "PieChart.tsx (새로 생성)",
          "StreakDisplay.tsx (새로 생성)",
          "GoalComparison.tsx (새로 생성)",
          "WorkoutAnalyticsSection.tsx (차트 컴포넌트 통합)",
          "WorkoutPage.css (차트 및 분석 스타일 추가)"
        ],
        "features": [
          "부드러운 라인 차트 (곡선 지원)",
          "세로/가로 막대 차트",
          "원형/도넛 차트",
          "연속 운동 시각화",
          "목표 달성 현황 비교",
          "기간별 데이터 전환",
          "호버 효과 및 애니메이션",
          "반응형 차트 디자인",
          "빈 데이터 상태 처리"
        ]
      },
      {
        "phase": 8,
        "name": "최종 통합 및 최적화",
        "status": "completed",
        "completedAt": "2025-01-27T00:00:00.000Z",
        "components": [
          "WorkoutPage.tsx 최적화 완성",
          "성능 최적화 훅 완성",
          "접근성 컴포넌트 완성",
          "에러 처리 개선 완성",
          "전체 통합 완성"
        ],
        "files": [
          "WorkoutPage.tsx (상태 관리 최적화, 에러 처리, 성능 개선)",
          "useWorkoutOptimization.ts (새로 생성 - 성능 최적화 훅)",
          "Accessibility.tsx (새로 생성 - 접근성 컴포넌트)",
          "WorkoutPage.css (최종 통합 및 최적화 스타일)"
        ],
        "features": [
          "통합된 상태 관리",
          "useCallback/useMemo 최적화",
          "에러 알림 시스템",
          "전역 로딩 오버레이",
          "디바운스/스로틀 훅",
          "로컬/세션 스토리지 훅",
          "인터섹션 옵저버 훅",
          "윈도우 리사이즈 훅",
          "키보드 이벤트 훅",
          "클릭 외부 감지 훅",
          "포커스 트랩 훅",
          "가상화 훅",
          "성능 모니터링 훅",
          "스크린 리더 지원",
          "라이브 리전",
          "접근 가능한 모달",
          "접근 가능한 탭",
          "접근 가능한 아코디언",
          "접근 가능한 탭",
          "접근 가능한 스피너",
          "접근 가능한 프로그레스 바",
          "키보드 네비게이션",
          "포커스 관리",
          "ARIA 속성 지원",
          "다크 모드 지원",
          "고대비 모드 지원",
          "모션 감소 설정 지원",
          "반응형 최적화",
          "성능 최적화",
          "메모리 누수 방지"
        ]
      }
    ],
    "currentPhase": 9,
    "notes": "Phase 8 완료: 최종 통합 및 최적화가 완성되었습니다. WorkoutPage.tsx의 상태 관리 최적화, 성능 최적화 훅, 접근성 컴포넌트, 에러 처리 개선이 모두 구현되었고 전체 워크아웃 페이지의 완성도가 크게 향상되었습니다. 이제 프로젝트 완료 단계입니다."
  },
  "settings": {
    "dataRetention": {
      "workoutSessions": "7년",
      "workoutStats": "영구 보관",
      "goalProgress": "영구 보관",
      "expHistory": "영구 보관",
      "personalBests": "영구 보관",
      "achievements": "영구 보관",
      "analytics": "3년"
    },
    "updateFrequency": {
      "workoutSessions": "실시간 (세션 완료 시)",
      "workoutStats": "일간 (매일 자정)",
      "goalProgress": "실시간 (목표 진행도 변경 시)",
      "expHistory": "실시간 (경험치 획득 시)",
      "personalBests": "실시간 (새 기록 달성 시)",
      "achievements": "실시간 (업적 달성 시)",
      "analytics": "주간 (매주 일요일)"
    },
    "backupSettings": {
      "autoBackup": true,
      "backupFrequency": "일간",
      "backupRetention": "30일",
      "compression": true
    }
  },
  "usage": {
    "description": "이 파일의 사용 방법",
    "instructions": [
      "1. 새로운 운동 세션 완료 시 workoutSessions에 추가",
      "2. 일일 통계 업데이트 시 workoutStats.dailyStats에 추가",
      "3. 목표 진행도 변경 시 goalProgress에 업데이트",
      "4. 경험치 획득 시 expHistory에 추가",
      "5. 개인 최고 기록 달성 시 personalBests에 추가",
      "6. 업적 달성 시 achievements에 추가",
      "7. 주간/월간 분석 시 analytics에 업데이트"
    ],
    "dataFormat": {
      "dates": "ISO 8601 형식 (YYYY-MM-DDTHH:mm:ss.sssZ)",
      "numbers": "정수 또는 소수점",
      "strings": "UTF-8 인코딩",
      "arrays": "JSON 배열 형식",
      "objects": "JSON 객체 형식"
    }
  }
}
